var gulp=require("gulp"),del=require("del"),minify=require("gulp-minifier"),ghPages=require("gulp-gh-pages"),dirJs="minified/assets/js",dirCss="minified/assets/css",dirVendor="minified/vendor",dirRoot="minified",dirTest="minified/test",dirImages="minified/assets/images";gulp.task("minify",function(){gulp.src(["*.html","*.js","*.css"]).pipe(minify({minify:!0,collapseWhitespace:!0,conservativeCollapse:!0,minifyJS:!0,minifyCSS:!0,getKeptComment:function(i,e){var s=i.match(/\/\*![\s\S]*?\*\//gim);return s&&s.join("\n")+"\n"||""}})).pipe(gulp.dest(dirRoot)),gulp.src("assets/js/*").pipe(gulp.dest(dirJs)),gulp.src(["assets/css/*.css"]).pipe(minify({minify:!0,collapseWhitespace:!0,conservativeCollapse:!0,minifyJS:!0,minifyCSS:!0,getKeptComment:function(i,e){var s=i.match(/\/\*![\s\S]*?\*\//gim);return s&&s.join("\n")+"\n"||""}})).pipe(gulp.dest(dirCss)),gulp.src(["vendor/*.*"]).pipe(minify({minify:!0,collapseWhitespace:!0,conservativeCollapse:!0,minifyJS:!0,minifyCSS:!0,getKeptComment:function(i,e){var s=i.match(/\/\*![\s\S]*?\*\//gim);return s&&s.join("\n")+"\n"||""}})).pipe(gulp.dest(dirVendor)),gulp.src(["test/*.html","test/*.js"]).pipe(minify({minify:!0,collapseWhitespace:!0,conservativeCollapse:!0,minifyJS:!0,minifyCSS:!0,getKeptComment:function(i,e){var s=i.match(/\/\*![\s\S]*?\*\//gim);return s&&s.join("\n")+"\n"||""}})).pipe(gulp.dest(dirTest)),gulp.src("assets/images/*").pipe(gulp.dest(dirImages)),gulp.src(".travis.yml").pipe(gulp.dest(dirRoot)),gulp.src("package.json").pipe(gulp.dest(dirRoot)),gulp.src(".gitignore").pipe(gulp.dest(dirRoot))}),gulp.task("clean",function(i){del(["minified/**/*"],i)}),gulp.task("deploy",function(){return gulp.src("./minified/**/*",{dot:!0}).pipe(ghPages())});